{"remainingRequest":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/thread-loader/dist/cjs.js!/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/babel-loader/lib/index.js!/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/ts-loader/index.js??ref--13-3!/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiweiqing/开发/GitHub/jwq-count-app/src/views/Addr/id/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/src/views/Addr/id/index.vue","mtime":1573375666251},{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/jiweiqing/\\u5F00\\u53D1/GitHub/jwq-count-app/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.array.map\";\nimport _classCallCheck from \"/Users/jiweiqing/\\u5F00\\u53D1/GitHub/jwq-count-app/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jiweiqing/\\u5F00\\u53D1/GitHub/jwq-count-app/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jiweiqing/\\u5F00\\u53D1/GitHub/jwq-count-app/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jiweiqing/\\u5F00\\u53D1/GitHub/jwq-count-app/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jiweiqing/\\u5F00\\u53D1/GitHub/jwq-count-app/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport { __decorate } from \"tslib\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { getRoomInfo as _getRoomInfo } from \"@/req/count\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Home, _Vue);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n    _this.roomInfo = {};\n    _this.addrs = [];\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"mounted\",\n    value: function mounted() {\n      var _this2 = this;\n\n      window.countFn.updateAddrs = function (res) {\n        _this2.updateAddrs(res.addrs);\n      };\n    }\n  }, {\n    key: \"beforeRouteEnter\",\n    value: function beforeRouteEnter(to, from, next) {\n      next(function (vm) {\n        vm.getRoomInfo();\n        window.countWs.send(JSON.stringify({\n          type: \"enterRoom\",\n          roomId: vm.$route.params.id\n        }));\n      });\n    }\n  }, {\n    key: \"updateAddrs\",\n    value: function updateAddrs(addrs) {\n      this.addrs = addrs.map(function (i) {\n        return Number(i);\n      });\n    }\n  }, {\n    key: \"getRoomInfo\",\n    value: function () {\n      var _getRoomInfo2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var roomInfo;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                roomInfo = {}; // roomInfo = {\n                //     id: 47,\n                //     room_id: \"1150717815\",\n                //     room_name: \"asdf\",\n                //     count: 123,\n                //     enter_code: \"1234\",\n                //     nick_name_list: \"唐僧,黑熊精,观音,刘备\",\n                //     create_time: \"2019-10-15T14:45:17.000Z\"\n                // };\n\n                _context.t0 = this.$fn;\n                _context.next = 4;\n                return _getRoomInfo({\n                  roomId: this.$route.params.id\n                });\n\n              case 4:\n                _context.t1 = _context.sent;\n                _context.next = 7;\n                return _context.t0.showMsgResponse.call(_context.t0, _context.t1);\n\n              case 7:\n                roomInfo = _context.sent;\n                roomInfo.nick_name_list = roomInfo.nick_name_list.split(\",\");\n                this.roomInfo = roomInfo;\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getRoomInfo() {\n        return _getRoomInfo2.apply(this, arguments);\n      }\n\n      return getRoomInfo;\n    }()\n  }, {\n    key: \"selectAddr\",\n    value: function selectAddr(item, idx) {\n      window.countWs.send(JSON.stringify({\n        type: \"enterRoom\",\n        roomId: this.$route.params.id,\n        addrId: idx,\n        roleName: item\n      }));\n      this.$router.push({\n        path: \"/score/room/\".concat(this.$route.params.id, \"?addr=\").concat(idx)\n      });\n    }\n  }]);\n\n  return Home;\n}(Vue);\n\nHome = __decorate([Component], Home);\nexport default Home;",{"version":3,"sources":["/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jiweiqing/开发/GitHub/jwq-count-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiweiqing/开发/GitHub/jwq-count-app/src/views/Addr/id/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;;AAwBA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AAEA,SAAS,WAAW,IAAX,YAAT,QAA4B,aAA5B;;AAEA,IAAqB,IAArB;AAAA;AAAA;AAAA;;AAAA,kBAAA;AAAA;;AAAA;;;AACW,UAAA,QAAA,GAAgB,EAAhB;AACA,UAAA,KAAA,GAAa,EAAb;AAFX;AAsDC;;AAtDD;AAAA;AAAA,8BAGkB;AAAA;;AACV,MAAA,MAAM,CAAC,OAAP,CAAe,WAAf,GAA6B,UAAA,GAAG,EAAG;AAC/B,QAAA,MAAI,CAAC,WAAL,CAAiB,GAAG,CAAC,KAArB;AACH,OAFD;AAGH;AAPL;AAAA;AAAA,qCAQ4B,EAR5B,EAQgC,IARhC,EAQsC,IARtC,EAQ0C;AAClC,MAAA,IAAI,CAAC,UAAA,EAAE,EAAG;AACN,QAAA,EAAE,CAAC,WAAH;AACA,QAAA,MAAM,CAAC,OAAP,CAAe,IAAf,CACI,IAAI,CAAC,SAAL,CAAe;AACX,UAAA,IAAI,EAAE,WADK;AAEX,UAAA,MAAM,EAAE,EAAE,CAAC,MAAH,CAAU,MAAV,CAAiB;AAFd,SAAf,CADJ;AAMH,OARG,CAAJ;AASH;AAlBL;AAAA;AAAA,gCAmBuB,KAnBvB,EAmB4B;AACpB,WAAK,KAAL,GAAa,KAAK,CAAC,GAAN,CAAU,UAAA,CAAC;AAAA,eAAI,MAAM,CAAC,CAAD,CAAV;AAAA,OAAX,CAAb;AACH;AArBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBY,gBAAA,QAvBZ,GAuB4B,EAvB5B,EAwBQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAhCR,8BAiCyB,KAAK,GAjC9B;AAAA;AAAA,uBAkCkB,YAAW,CAAC;AACd,kBAAA,MAAM,EAAE,KAAK,MAAL,CAAY,MAAZ,CAAmB;AADb,iBAAD,CAlC7B;;AAAA;AAAA;AAAA;AAAA,mCAiCkC,eAjClC;;AAAA;AAiCQ,gBAAA,QAjCR;AAsCQ,gBAAA,QAAQ,CAAC,cAAT,GAA0B,QAAQ,CAAC,cAAT,CAAwB,KAAxB,CAA8B,GAA9B,CAA1B;AACA,qBAAK,QAAL,GAAgB,QAAhB;;AAvCR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BAyCsB,IAzCtB,EAyC4B,GAzC5B,EAyC+B;AACvB,MAAA,MAAM,CAAC,OAAP,CAAe,IAAf,CACI,IAAI,CAAC,SAAL,CAAe;AACX,QAAA,IAAI,EAAE,WADK;AAEX,QAAA,MAAM,EAAE,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAFhB;AAGX,QAAA,MAAM,EAAE,GAHG;AAIX,QAAA,QAAQ,EAAE;AAJC,OAAf,CADJ;AAQA,WAAK,OAAL,CAAa,IAAb,CAAkB;AACd,QAAA,IAAI,wBAAiB,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAApC,mBAA+C,GAA/C;AADU,OAAlB;AAGH;AArDL;;AAAA;AAAA,EAAkC,GAAlC,CAAA;;AAAqB,IAAI,GAAA,UAAA,CAAA,CADxB,SACwB,CAAA,EAAJ,IAAI,CAAJ;eAAA,I","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Toast } from \"mint-ui\";\nimport { getRoomInfo } from \"@/req/count\";\n@Component\nexport default class Home extends Vue {\n    public roomInfo: any = {};\n    public addrs: any = [];\n    public mounted() {\n        window.countFn.updateAddrs = res => {\n            this.updateAddrs(res.addrs);\n        };\n    }\n    public beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getRoomInfo();\n            window.countWs.send(\n                JSON.stringify({\n                    type: \"enterRoom\",\n                    roomId: vm.$route.params.id\n                })\n            );\n        });\n    }\n    public updateAddrs(addrs) {\n        this.addrs = addrs.map(i => Number(i));\n    }\n    public async getRoomInfo() {\n        let roomInfo: any = {};\n        // roomInfo = {\n        //     id: 47,\n        //     room_id: \"1150717815\",\n        //     room_name: \"asdf\",\n        //     count: 123,\n        //     enter_code: \"1234\",\n        //     nick_name_list: \"唐僧,黑熊精,观音,刘备\",\n        //     create_time: \"2019-10-15T14:45:17.000Z\"\n        // };\n        roomInfo = await this.$fn.showMsgResponse(\n            await getRoomInfo({\n                roomId: this.$route.params.id\n            })\n        );\n        roomInfo.nick_name_list = roomInfo.nick_name_list.split(\",\");\n        this.roomInfo = roomInfo;\n    }\n    public selectAddr(item, idx) {\n        window.countWs.send(\n            JSON.stringify({\n                type: \"enterRoom\",\n                roomId: this.$route.params.id,\n                addrId: idx,\n                roleName: item\n            })\n        );\n        this.$router.push({\n            path: `/score/room/${this.$route.params.id}?addr=${idx}`\n        });\n    }\n}\n"],"sourceRoot":""}]}