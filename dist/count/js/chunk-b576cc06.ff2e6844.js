(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b576cc06"],{"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,a,c=String(i(e)),s=r(n),u=c.length;return s<0||s>=u?t?"":void 0:(o=c.charCodeAt(s),o<55296||o>56319||s+1===u||(a=c.charCodeAt(s+1))<56320||a>57343?t?c.charAt(s):o:t?c.slice(s,s+2):a-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),a=n("be13"),c=n("2b4c"),s=n("520a"),u=c("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=c(t),d=!o((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](""),!e})):void 0;if(!d||!v||"replace"===t&&!l||"split"===t&&!f){var h=/./[p],b=n(a,p,""[t],(function(t,e,n,r,i){return e.exec===s?d&&!i?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=b[0],g=b[1];r(String.prototype,t,m),i(RegExp.prototype,p,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}}},2852:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return s}));var r=n("432d"),i=n("7690"),o=function(t){return r["a"].httpPost({url:i["a"].count.createRoom,json:t})},a=function(t){return r["a"].httpPost({url:i["a"].count.getRoomInfo,json:t})},c=function(t){return r["a"].httpPost({url:i["a"].count.getScoreList,json:t})},s=function(t){return r["a"].httpPost({url:i["a"].count.handleRoomScore,json:t})}},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),a=n("0390"),c=n("9def"),s=n("5f1b"),u=n("520a"),l=n("79e5"),f=Math.min,p=[].push,d="split",v="length",h="lastIndex",b=4294967295,m=!l((function(){RegExp(b,"y")}));n("214f")("split",2,(function(t,e,n,l){var g;return g="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[v]||2!="ab"[d](/(?:ab)*/)[v]||4!="."[d](/(.?)(.?)/)[v]||"."[d](/()()/)[v]>1||""[d](/.?/)[v]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var o,a,c,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?b:e>>>0,m=new RegExp(t.source,l+"g");while(o=u.call(m,i)){if(a=m[h],a>f&&(s.push(i.slice(f,o.index)),o[v]>1&&o.index<i[v]&&p.apply(s,o.slice(1)),c=o[0][v],f=a,s[v]>=d))break;m[h]===o.index&&m[h]++}return f===i[v]?!c&&m.test("")||s.push(""):s.push(i.slice(f)),s[v]>d?s.slice(0,d):s}:"0"[d](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=l(g,t,this,e,g!==n);if(r.done)return r.value;var u=i(t),p=String(this),d=o(u,RegExp),v=u.unicode,h=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g"),y=new d(m?u:"^(?:"+u.source+")",h),_=void 0===e?b:e>>>0;if(0===_)return[];if(0===p.length)return null===s(y,p)?[p]:[];var x=0,w=0,S=[];while(w<p.length){y.lastIndex=m?w:0;var k,I=s(y,m?p:p.slice(w));if(null===I||(k=f(c(y.lastIndex+(m?0:w)),p.length))===x)w=a(p,w,v);else{if(S.push(p.slice(x,w)),S.length===_)return S;for(var N=1;N<=I.length-1;N++)if(S.push(I[N]),S.length===_)return S;w=x=k}}return S.push(p.slice(x)),S}]}))},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,c="lastIndex",s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[c]||0!==e[c]}(),u=void 0!==/()??/.exec("")[1],l=s||u;l&&(a=function(t){var e,n,a,l,f=this;return u&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),s&&(e=f[c]),a=i.call(f,t),s&&a&&(f[c]=f.global?a.index+a[0].length:e),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=a},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("4bf8"),a=n("79e5"),c=[].sort,s=[1,2,3];r(r.P+r.F*(a((function(){s.sort(void 0)}))||!a((function(){s.sort(null)}))||!n("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"6d67":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(1);r(r.P+r.F*!n("2f21")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},"7a7f":function(t,e,n){"use strict";var r=n("a6b9"),i=n.n(r);i.a},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},a6b9:function(t,e,n){},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),c="["+a+"]",s="​",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t,e,n){var i={},c=o((function(){return!!a[t]()||s[t]()!=s})),u=i[t]=c?e(p):a[t];n&&(i[n]=u),r(r.P+r.F*c,"String",i)},p=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),c=n("6a99"),s=n("79e5"),u=n("9093").f,l=n("11e9").f,f=n("86cc").f,p=n("aa77").trim,d="Number",v=r[d],h=v,b=v.prototype,m=o(n("2aeb")(b))==d,g="trim"in String.prototype,y=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():p(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,s=e.slice(2),u=0,l=s.length;u<l;u++)if(a=s.charCodeAt(u),a<48||a>i)return NaN;return parseInt(s,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(m?s((function(){b.valueOf.call(n)})):o(n)!=d)?a(new h(y(e)),n,v):y(e)};for(var _,x=n("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)i(h,_=x[w])&&!i(v,_)&&f(v,_,l(h,_));v.prototype=b,b.constructor=v,n("2aba")(r,d,v)}},f01e:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"margin-top":"60px"}},[t.roomInfo.nick_name_list?n("div",{staticStyle:{padding:"8px","text-align":"left",width:"80%",margin:"auto",overflow:"hidden","padding-bottom":".5rem"}},[n("h2",{staticStyle:{display:"inline-block","font-size":"1.5rem"}},[t._v(t._s(t.roomInfo.nick_name_list[Number(t.$route.query.addr)]))]),n("span",{staticStyle:{float:"right",position:"relative"}},[t._v("\n                当前总积分：\n                "),n("b",{staticStyle:{color:"green","font-size":"2rem"}},[t._v(t._s(t.selfInfo.score))])])]):t._e(),n("hr"),n("div",{staticStyle:{"text-align":"left",width:"80%",margin:"auto"}},[n("div",{staticStyle:{padding:"8px",opacity:".6",overflow:"hidden"}},[n("span",{staticStyle:{"font-size":".7rem",position:"relative",top:".3rem"}},[t._v("提示：点击每轮右侧的数字进行修改。")]),n("mt-button",{staticStyle:{float:"right","font-size":".7rem"},attrs:{type:"default",size:"small"},on:{click:function(e){t.popupVisible=!0}}},[t._v("查看排行")])],1),n("mt-cell",{attrs:{title:"新一轮（第"+(t.handleScoreList.length+1)+"轮）"}},[n("span",{style:{color:"red"},on:{click:function(e){return t.calcRound(t.handleScoreList.length+1)}}},[t._v("请输入")])]),t._l(t.handleScoreList,(function(e,r){return n("mt-cell",{key:r,staticStyle:{position:"relative"},attrs:{label:0===e.total?"":"未结清"}},[n("div",{attrs:{slot:"title"},on:{click:function(n){return t.view(e,t.handleScoreList.length-1-r)}},slot:"title"},[t._v("\n                    第"+t._s(e.roundId)+"轮\n                    "),0!==e.total?n("div",{staticStyle:{"font-size":".7rem",opacity:".5","margin-top":".3rem"}},[t._v(t._s(0===e.total?"":"未结清"))]):t._e()]),n("span",{style:{color:void 0===e.score?"red":"gray"},on:{click:function(n){return n.preventDefault(),t.calcRound(e.roundId)}}},[t._v(t._s(void 0===e.score?"请输入":e.score))])])}))],2)]),n("mt-popup",{staticStyle:{width:"80%"},attrs:{"popup-transition":"popup-fade"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[n("h2",{staticStyle:{padding:"1rem"}},[t._v("排行榜")]),n("hr"),n("div",{staticStyle:{padding:"1rem"}},t._l(t.totalScoreList,(function(e,r){return n("div",{key:r,staticStyle:{padding:".2rem",overflow:"hidden"},style:{color:Number(e.addr)===Number(t.$route.query.addr)?"green":"#333"}},[n("span",{staticStyle:{width:"50%",display:"inline-block","text-align":"right",float:"left"}},[t._v(t._s(e.name)+" ：")]),n("span",{staticStyle:{"margin-left":".4rem",float:"left","padding-top":".2rem"}},[t._v(t._s(e.score))])])})),0),n("mt-button",{staticStyle:{width:"100%"},attrs:{type:"default"},on:{click:function(e){t.popupVisible=!1}}},[t._v("关闭")])],1),n("mt-popup",{staticStyle:{width:"80%"},attrs:{"popup-transition":"popup-fade"},model:{value:t.popupListVisible,callback:function(e){t.popupListVisible=e},expression:"popupListVisible"}},[n("h2",{staticStyle:{padding:"1rem"}},[t._v("第"+t._s(t.viewList.roundId)+"轮")]),n("hr"),n("div",{staticStyle:{padding:"1rem"}},t._l(t.viewList.list,(function(e,r){return n("div",{key:r,staticStyle:{padding:".2rem",overflow:"hidden"},style:{color:Number(e.addr)===Number(t.$route.query.addr)?"green":"#333"}},[n("span",{staticStyle:{width:"50%",display:"inline-block","text-align":"right",float:"left"}},[t._v(t._s(t.roomInfo.nick_name_list[Number(e.addr)])+" ：")]),n("span",{staticStyle:{"margin-left":".4rem",float:"left","padding-top":".2rem"}},[t._v(t._s(e.score))])])})),0),n("mt-button",{staticStyle:{width:"100%"},attrs:{type:"default"},on:{click:function(e){t.popupListVisible=!1}}},[t._v("关闭")])],1)],1)},i=[],o=(n("55dd"),n("ac6a"),n("f3e2"),n("6d67"),n("28a5"),n("c5f6"),n("96cf"),n("3b8d")),a=n("d225"),c=n("b0b4"),s=n("308d"),u=n("6bb5"),l=n("4e2b"),f=n("9ab4"),p=n("60a3"),d=n("76a0"),v=n("2852"),h=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.popupVisible=!1,t.popupListVisible=!1,t.viewList=[],t.roomInfo={nick_name_list:[]},t.scoreList=[],t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"view",value:function(t,e){this.viewList=t,console.log(t),this.popupListVisible=!0}},{key:"mounted",value:function(){var t=this;window.countFn.updateScoreList=function(){t.getScoreList()}}},{key:"beforeRouteEnter",value:function(t,e,n){n((function(t){if(void 0===window.countFn.updateAddrs)return t.$fn.toRoom(t.$route.params.id);t.getScoreList(),t.getRoomInfo()}))}},{key:"getScoreList",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=this.$fn,t.next=3,Object(v["c"])({roomId:this.$route.params.id});case 3:return t.t1=t.sent,t.next=6,t.t0.showMsgResponse.call(t.t0,t.t1);case 6:e=t.sent,this.scoreList=e.list;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"calcRound",value:function(t){var e=this;d["MessageBox"].prompt("请输入你在第".concat(t,"轮的分数")).then(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=r.value,r.action,!(i<0||"0"===i||i>0)){n.next=11;break}return n.t0=e.$fn,n.next=5,Object(v["d"])({roomId:e.$route.params.id,addrId:Number(e.$route.query.addr),roundId:Number(t),score:Number(i)});case 5:return n.t1=n.sent,n.next=8,n.t0.showMsgResponse.call(n.t0,n.t1);case 8:n.sent,n.next=12;break;case 11:Object(d["Toast"])({message:"请输入整数或者负整数",iconClass:"icon icon-error",position:"top"});case 12:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}},{key:"getRoomInfo",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.t0=this.$fn,t.next=4,Object(v["b"])({roomId:this.$route.params.id});case 4:return t.t1=t.sent,t.next=7,t.t0.showMsgResponse.call(t.t0,t.t1);case 7:e=t.sent,e.nick_name_list=e.nick_name_list.split(","),this.roomInfo=e;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"selfInfo",get:function(){var t=this,e={score:0},n=0;return this.scoreList.map((function(e){e.list.forEach((function(e){Number(e.addr)===Number(t.$route.query.addr)&&(n+=Number(void 0===e.score?0:e.score))}))})),e.score=n,e}},{key:"totalScoreList",get:function(){for(var t=this,e=[],n=function(n){var r=0;t.scoreList.map((function(t){t.list.forEach((function(t){Number(t.addr)===Number(n)&&(r+=Number(void 0===t.score?0:t.score))}))})),e.push({addr:n,name:t.roomInfo.nick_name_list[n],score:r})},r=0;r<this.roomInfo.nick_name_list.length;r++)n(r);return e.sort((function(t,e){return e.score-t.score}))}},{key:"handleScoreList",get:function(){var t=this;return this.scoreList.map((function(e){return e.total=0,e.list.forEach((function(n){Number(n.addr)===Number(t.$route.query.addr)&&(e.score=n.score),e.total+=Number(void 0===n.score?0:n.score)})),e}))}}]),e}(p["b"]);h=Object(f["a"])([p["a"]],h);var b=h,m=b,g=(n("7a7f"),n("2877")),y=Object(g["a"])(m,r,i,!1,null,"c88a3ae6",null);e["default"]=y.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-b576cc06.ff2e6844.js.map